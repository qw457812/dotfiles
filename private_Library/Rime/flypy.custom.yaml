# flypy.schema.yamlçš„è¡¥ä¸æ–‡ä»¶æ˜¯flypy.custom.yaml
# ------------------------------------------------------------------------------------------
# å°é¹¤éŸ³å½¢Rimeé¼ é¡»ç®¡æŒ‚æ¥ | https://help.flypy.com/#/gj
# ------------------------------------------------------------------------------------------
patch:
  switches:
    - name: ascii_mode
      # reset: 0
      reset: 1 # é»˜è®¤è‹±æ–‡è¾“å…¥å¼€å§‹
      # states: [ ä¸­æ–‡, è‹±æ–‡ ]
      states: [ ä¸­, A ]
    - name: full_shape
     # states: [ åŠè§’, å…¨è§’ ]
    - name: simplification
     # states: [ ç®€, ç¹ ]
      reset: 0
    - name: ascii_punct
     # states: [ ã€‚ï¼Œ, ï¼ï¼Œ ]
      states: [ Â¥, $ ]
      reset: 0
    # FIXME å¦‚ä½•ç¦ç”¨è¡¨æƒ…åŒ…
    # - name: emoji
      # states: [ ğŸ’€, ğŸ˜„ ]
      # reset: 1
      # reset: 0 # é»˜è®¤ç¦æ­¢è¡¨æƒ…åŒ…

  engine:
    processors:
      - ascii_composer
      - recognizer
      - key_binder
      - speller
      - punctuator
      - selector
      - navigator
      - express_editor
    segmentors:
      - ascii_segmentor
      - matcher
      - abc_segmentor
      - punct_segmentor
      - fallback_segmentor
    translators:
      - punct_translator
      - table_translator
      - lua_translator@date_translator # ä½¿ç”¨rime-iceåŒåçš„date_translator
      # - lua_translator@time_translator # rime-iceçš„date_translatoråŒ…å«time
      - table_translator@custom_phraseVD
      - table_translator@custom_phraseXT
      - table_translator@custom_phraseYH
      - table_translator@custom_phraseQMZ
      - reverse_lookup_translator
      - history_translator@history
      # https://github.com/hchunhui/librime-lua/wiki/Scripting#%E6%96%B0%E7%89%88-librime-lua
      # é¿å…åœ¨ rime.lua ä¸­å¢åŠ  `calculator_translator = require("calculator_translator")`
      # - lua_translator@calculator_translator
      - lua_translator@*calculator_translator
    filters:
      - simplifier
      - simplifier@simplification
      - uniquifier
      # FIXME å¦‚ä½•ç¦ç”¨è¡¨æƒ…åŒ…
      # - simplifier@emoji # Emoji (copy from double_pinyin_flypy.schema.yaml)

  # åˆå­¦æ¨¡å¼
  translator/enable_completion: true # ç¼–ç æç¤ºå¼€å…³

  # åˆå­¦æ¨¡å¼
  custom_phraseQMZ/user_dict: flypy_fullå…¨ç å­—

  key_binder:
    import_preset: default #æ–¹æ¡ˆåˆ‡æ¢ç›¸å…³
    bindings:
      - {accept: bracketleft, send: Page_Up, when: paging} # [ä¸Šç¿»é¡µ
      - {accept: bracketright, send: Page_Down, when: has_menu} # ]ä¸‹ç¿»é¡µ
      - {accept: comma, send: comma, when: paging} #æ³¨é”€é€—å·ç¿»é¡µ
      - {accept: period, send: period, when: has_menu} #æ³¨é”€å¥å·ç¿»é¡µ
      - {accept: semicolon, send: 2, when: has_menu} #åˆ†å·æ¬¡é€‰
    #  - {accept: Release+semicolon, send: semicolon, when: has_menu} #å¦‚å¯ç”¨æ­¤è¡Œï¼Œåˆ™åˆ†å·å¼•å¯¼ç¬¦å·åŠŸèƒ½æ— æ•ˆ
      - {accept: Release+period, send: period, when: composing} #å¥å·é¡¶å±
      - {accept: Release+comma, send: comma, when: composing} #é€—å·é¡¶å±
      - {accept: "Tab", send: Escape, when: composing}
      - {accept: "Shift_R", send: Escape, when: composing}
      # - {accept: "Shift+space", toggle: full_shape, when: always} #åˆ‡æ¢å…¨åŠè§’
      # - {accept: "Control+period", toggle: ascii_punct, when: always} #åˆ‡æ¢ä¸­è‹±æ ‡ç‚¹
      # - {accept: "Control+j", toggle: simplification, when: always} #åˆ‡æ¢ç®€ç¹

  recognizer:
    # import_preset: default
    patterns:
      #uppercase: "[A-Z][-_+.'0-9A-Za-z]*$"
      uppercase: "" #ä¸­æ–‡çŠ¶æ€å¤§å†™é”å®šç›´æ¥ä¸Šå±
      reverse_lookup: "[a-z`]*`+[a-z`]*"
      punct: ""
      expression: "^=.*$"

  # æ ¹æ®å°é¹¤éŸ³å½¢æŒ‚æ¥ä¸­çš„rime.luaï¼Œé…ç½®rime-iceçš„date_translator (copy from double_pinyin_flypy.schema.yaml)
  # Lua é…ç½®: æ—¥æœŸã€æ—¶é—´ã€æ˜ŸæœŸã€ISO 8601ã€æ—¶é—´æˆ³çš„è§¦å‘å…³é”®å­—
  date_translator:
    # date: date            # æ—¥æœŸï¼š 2022-11-29
    date: orq             # æ—¥æœŸï¼š 2022-11-29
    # time: time            # æ—¶é—´ï¼š 18:13
    time: ouj             # æ—¶é—´ï¼š 18:13
    # week: week            # æ˜ŸæœŸï¼š æ˜ŸæœŸäºŒ
    # datetime: datetime    # ISO 8601ï¼š 2022-11-29T18:13:11+08:00
    # timestamp: timestamp  # æ—¶é—´æˆ³ï¼š 1669716794

  # FIXME å¦‚ä½•ç¦ç”¨è¡¨æƒ…åŒ…
  # copy from double_pinyin_flypy.schema.yaml
  # Emoji
  # emoji:
  #   opencc_config: emoji.json
  #   option_name: emoji


# ------------------------------------------------------------------------------------------
# å°é¹¤éŸ³å½¢â€œé¼ é¡»ç®¡â€for macOS.zip | _______æŒ‚æ¥â€”â€”éŸ³å½¢ç  | http://flypy.ysepan.com/
# ------------------------------------------------------------------------------------------
# â¯ tree å°é¹¤éŸ³å½¢Rimeå¹³å°é¼ é¡»ç®¡for\ macOS
# å°é¹¤éŸ³å½¢Rimeå¹³å°é¼ é¡»ç®¡for macOS
# â”œâ”€â”€ MACé¼ é¡»ç®¡å°é¹¤éŸ³å½¢æŒ‚æ¥è¯´æ˜.txt
# â””â”€â”€ rime
#     â”œâ”€â”€ build
#     â”‚Â Â  â”œâ”€â”€ flypy.prism.bin
#     â”‚Â Â  â”œâ”€â”€ flypy.reverse.bin
#     â”‚Â Â  â”œâ”€â”€ flypy.table.bin
#     â”‚Â Â  â”œâ”€â”€ flypydz.prism.bin
#     â”‚Â Â  â”œâ”€â”€ flypydz.reverse.bin
#     â”‚Â Â  â””â”€â”€ flypydz.table.bin
#     â”œâ”€â”€ default.custom.yaml
#     â”œâ”€â”€ default.yaml
#     â”œâ”€â”€ flypy.schema.yaml
#     â”œâ”€â”€ flypy_fullå…¨ç å­—.txt
#     â”œâ”€â”€ flypy_sys.txt
#     â”œâ”€â”€ flypy_top.txt
#     â”œâ”€â”€ flypy_user.txt
#     â”œâ”€â”€ lua
#     â”‚Â Â  â””â”€â”€ calculator_translator.lua
#     â”œâ”€â”€ rime.lua
#     â”œâ”€â”€ squirrel.custom.yaml
#     â””â”€â”€ squirrel.yaml
# 
# 4 directories, 18 files
# ------------------------------------------------------------------------------------------
# â¯ cat å°é¹¤éŸ³å½¢Rimeå¹³å°é¼ é¡»ç®¡for\ macOS/MACé¼ é¡»ç®¡å°é¹¤éŸ³å½¢æŒ‚æ¥è¯´æ˜.txt
#                 å°é¹¤éŸ³å½¢Rimeé¼ é¡»ç®¡æŒ‚æ¥è¯´æ˜ macOSç³»ç»Ÿ
# 
# ä¸€ã€Rimeå¹³å°é¼ é¡»ç®¡ä¸‹è½½åœ°å€ï¼š
# 
#    https://rime.im/download/
#    
#    è¯·åˆ°æ­¤åœ°å€ä¸‹è½½é¼ é¡»ç®¡ç›®å‰æœ€æ–°ç‰ˆ0.14.0   ï¼ˆ2019å¹´6æœˆ23æ—¥ï¼‰ï¼Œå¹¶å®‰è£…
# 
# äºŒã€æŒ‚æ¥å°é¹¤éŸ³å½¢
# 
# 1ã€åœ¨æ¡Œé¢é¡¶éƒ¨çš„èœå•æ ä¸­è¾“å…¥æ³•é€‰æ‹©â€œé¼ é¡»ç®¡â€ï¼Œç„¶åç‚¹å¼€è¾“å…¥æ³•èœå•é€‰æ‹©â€œç”¨æˆ·è®¾å®šâ€ï¼Œå¼¹å¼€Rimeæ–‡ä»¶å¤¹
# 
# 2ã€å°†æœ¬å‹ç¼©åŒ…rimeæ–‡ä»¶å¤¹ä¸­çš„â€œæ–‡ä»¶åŠæ–‡ä»¶å¤¹â€å…¨éƒ¨å¤åˆ¶åˆ°ä¸Šé¢æ‰“å¼€çš„Rimeæ–‡ä»¶å¤¹å†…ï¼Œè¦†ç›–åŒåæ–‡ä»¶
#   
# 3ã€å›åˆ°é¼ é¡»ç®¡èœå•ï¼Œç‚¹å‡»â€œé‡æ–°éƒ¨ç½²â€å³å®Œæˆ
# 
#  sysâ€”â€”å«ç¬¦å·ç¼–ç ã€äºŒé‡ç®€ç ç­‰
#  topâ€”â€”ç½®é¡¶è¯åº“ï¼Œå½“ç”¨æˆ·è¯å’Œç³»ç»Ÿè¯é‡ç ï¼Œä¸”éœ€è¦ç”¨æˆ·è¯å±…å‰æ—¶æ”¾æ­¤æ–‡ä»¶
#  userâ€”â€”ç”¨æˆ·è¯åº“ï¼Œæ—¥å¸¸ä½¿ç”¨ç”¨æˆ·è¯æ·»åŠ åˆ°æ­¤æ–‡ä»¶
#  fullâ€”â€”<å…¨ç å­—>åˆ†ç±»æ–‡ä»¶ï¼Œéœ€åˆ é™¤æ–‡ä»¶åä¸­çš„â€œå…¨ç å­—â€ï¼Œå†éƒ¨ç½²ç”Ÿæ•ˆï¼Œè¡¥å…¨æ‰€æœ‰å­—å…¨ç 
#  buildæ–‡ä»¶å¤¹å†…ä¸ºç è¡¨æ–‡ä»¶
# 
# ä¸‰ã€å¸¸ç”¨ç»„åˆé”®ï¼š
# 
# Ctrl+.     åˆ‡æ¢ä¸­è‹±æ–‡æ ‡ç‚¹
# Shift+ç©ºæ ¼ åˆ‡æ¢å…¨åŠè§’
# Control+j ç®€ç¹è½¬æ¢
# 
# å››ã€å½“å‰æ—¥æœŸorqï¼Œå½“å‰æ—¶é—´ouj
# 
# äº”ã€ä¸‡èƒ½é”® `
# 
# è¿™ä¸ªé”®åœ¨tabé”®ä¸Šæ–¹ï¼Œç”¨äºåæŸ¥ç¼–ç ï¼Œæ›¿ä»£å•å­—å…¨ç â€œå£°éŸµå½¢å½¢â€ä¸­çš„ä»»ä½•ä¸€ç 
# 
# å¤‡æ³¨ï¼š
#     â‘ ä¿®æ”¹æ–‡ä»¶åï¼Œé‡æ–°éƒ¨ç½²æ–¹èƒ½ç”Ÿæ•ˆ
#     â‘¡ç”¨æˆ·è¯åº“è‡ªè¡Œå¤‡ä»½
# 
# 
#                                                   å°é¹¤å®˜ç½‘ï¼šhttps://flypy.com
#                                                   å°é¹¤Qç¾¤ï¼š182883808
# ------------------------------------------------------------------------------------------
# â¯ cat å°é¹¤éŸ³å½¢Rimeå¹³å°é¼ é¡»ç®¡for\ macOS/rime/default.yaml
# # Rime default settings
# # encoding: utf-8
# 
# config_version: "0.38"
# 
# schema_list:
#   - schema: flypy
# 
# switcher:
#   caption: ã€”æ–¹æ¡ˆé€‰å•ã€•
#   hotkeys:
#     - Control+grave
#     - Control+Shift+grave
#     - F4
#   save_options:
#     - full_shape
#     - ascii_punct
#     - simplification
#   fold_options: true
#   abbreviate_options: true
#   #option_list_separator: 'ï¼'
# 
# menu:
#   page_size: 5
# 
# punctuator:
#   full_shape:
#     ' ' : { commit: 'ã€€' }
#     ',' : { commit: ï¼Œ }
#     '.' : { commit: ã€‚ }
#     '<' : [ ã€Š, ã€ˆ, Â«, â€¹ ]
#     '>' : [ ã€‹, ã€‰, Â», â€º ]
#     '/' : { commit: ã€ }
#     '?' : { commit: ï¼Ÿ }
#     ';' : { commit: ï¼› }
#     ':' : { commit: ï¼š }
#     '''' : { pair: [ 'â€˜', 'â€™' ] }
#     '"' : { pair: [ 'â€œ', 'â€' ] }
#     '\' : { commit: ã€ }
#     '|' : 'ï½œ'
#     '`' : ï½€
#     '~' : ï½
#     '!' : { commit: ï¼ }
#     '@' : 'ï¼ '
#     '#' : 'ï¼ƒ'
#     '%' : 'ï¼…'
#     '$' : [ ï¿¥, '$', 'â‚¬', 'Â£', 'Â¥', 'Â¢', 'Â¤' ]
#     '^' : { commit: â€¦â€¦ }
#     '&' : ï¼†
#     '*' : 'ï¼Š'
#     '(' : ï¼ˆ
#     ')' : ï¼‰
#     '-' : ï¼
#     '_' : â€”â€”
#     '+' : ï¼‹
#     '=' : ï¼
#     '[' : [ ã€Œ, ã€, ã€”, ï¼» ]
#     ']' : [ ã€, ã€‘, ã€•, ï¼½ ]
#     '{' : [ ã€, ã€–, ï½› ]
#     '}' : [ ã€, ã€—, ï½ ]
#   half_shape:
#     ',' : { commit: ï¼Œ }
#     '.' : { commit: ã€‚ }
#     '<' : [ ã€Š, ã€ˆ, Â«, â€¹ ]
#     '>' : [ ã€‹, ã€‰, Â», â€º ]
#     '/' : { commit: ã€ }
#     '?' : { commit: ï¼Ÿ }
#     ';' : { commit: ï¼› }
#     ':' : { commit: ï¼š }
#     '''' : { pair: [ 'â€˜', 'â€™' ] }
#     '"' : { pair: [ 'â€œ', 'â€' ] }
#     '\' : { commit: ã€ }
#     '|' : '|'
#     '`' : '`'
#     '~' : { commit: ï½ }
#     '!' : { commit: ï¼ }
#     '@' : '@'
#     '#' : '#'
#     '%' : { commit: '%' }
#     '$' : { commit: "$" }
#     '^' : { commit: â€¦â€¦ }
#     '&' : '&'
#     '*' : { commit: '*' }
#     '(' : ï¼ˆ
#     ')' : ï¼‰
#     '-' : '-'
#     '_' : â€”â€”
#     '+' : '+'
#     '=' : '='
#     '[' : { commit: 'ã€' }
#     ']' : { commit: 'ã€‘' }
#     '{' : { commit: 'ï½›' }
#     '}' : { commit: 'ï½' }
# 
# key_binder:
#   bindings:
#     # Emacs style
#     - { when: composing, accept: Control+p, send: Up }
#     - { when: composing, accept: Control+n, send: Down }
#     - { when: composing, accept: Control+b, send: Left }
#     - { when: composing, accept: Control+f, send: Right }
#     - { when: composing, accept: Control+a, send: Home }
#     - { when: composing, accept: Control+e, send: End }
#     - { when: composing, accept: Control+d, send: Delete }
#     - { when: composing, accept: Control+k, send: Shift+Delete }
#     - { when: composing, accept: Control+h, send: BackSpace }
#     - { when: composing, accept: Control+g, send: Escape }
#     - { when: composing, accept: Control+bracketleft, send: Escape }
#     - { when: composing, accept: Alt+v, send: Page_Up }
#     - { when: composing, accept: Control+v, send: Page_Down }
#     # move by word
#     - { when: composing, accept: ISO_Left_Tab, send: Shift+Left }
#     - { when: composing, accept: Shift+Tab, send: Shift+Left }
#     - { when: composing, accept: Tab, send: Shift+Right }
#     # flip page
#     - { when: has_menu, accept: minus, send: Page_Up }
#     - { when: has_menu, accept: equal, send: Page_Down }
#     - { when: paging, accept: comma, send: Page_Up }
#     - { when: has_menu, accept: period, send: Page_Down }
#     # hotkey switch
#     - { when: always, accept: Control+Shift+1, select: .next }
#     - { when: always, accept: Control+Shift+2, toggle: ascii_mode }
#     - { when: always, accept: Control+Shift+3, toggle: full_shape }
#     - { when: always, accept: Control+Shift+4, toggle: simplification }
#     - { when: always, accept: Control+Shift+5, toggle: extended_charset }
#     - { when: always, accept: Control+Shift+exclam, select: .next }
#     - { when: always, accept: Control+Shift+at, toggle: ascii_mode }
#     - { when: always, accept: Control+Shift+numbersign, toggle: full_shape }
#     - { when: always, accept: Control+Shift+dollar, toggle: simplification }
#     - { when: always, accept: Control+Shift+percent, toggle: extended_charset }
#     - { when: always, accept: Shift+space, toggle: full_shape }
#     - { when: always, accept: Control+period, toggle: ascii_punct }
# 
# recognizer:
#   patterns:
#     uppercase: "[A-Z][-_+.'0-9A-Za-z]*$"
#     reverse_lookup: "[a-z`]*`+[a-z`]*"
#     punct: ""
# 
# ascii_composer:
#   good_old_caps_lock: true
#   switch_key:
#     Shift_L: inline_ascii
#     Shift_R: commit_text
#     Control_L: noop
#     Control_R: noop
#     Caps_Lock: clear
#     Eisu_toggle: clear
# ------------------------------------------------------------------------------------------
# â¯ cat å°é¹¤éŸ³å½¢Rimeå¹³å°é¼ é¡»ç®¡for\ macOS/rime/default.custom.yaml
# customization:
#   distribution_code_name: Squirrel
#   distribution_version: 2019-06-23
#   rime_version: 1.5.3
# patch:
#   schema_list:
#     - schema: flypy # æ·»åŠ å°é¹¤éŸ³å½¢
# 
# #
# # å¯ç”¨çš„æŒ‰é”®æœ‰ Caps_Lock, Shift_L, Shift_R, Control_L, control_R
# # Mac ç³»ç»Ÿä¸Šçš„é¼ é¡»ç®¡ä¸èƒ½åŒºåˆ†å·¦ã€å³ï¼Œå› æ­¤åªæœ‰å¯¹ Shift_L, Control_L çš„è®¾å®šèµ·ä½œç”¨
# #
# # å·²è¾“å…¥ç¼–ç æ—¶æŒ‰åˆ‡æ¢é”®ï¼Œå¯ä»¥è¿›ä¸€æ­¥è®¾å®šè¾“å…¥æ³•ä¸­è¥¿æ–‡åˆ‡æ¢çš„å½¢å¼
# # å¯é€‰çš„ä¸´æ—¶åˆ‡æ¢ç­–ç•¥æœ‰ä¸‰ï¼š
# # inline_ascii åœ¨è¾“å…¥æ³•çš„ä¸´æ—¶è¥¿æ–‡ç¼–è¾‘åŒºå†…è¾“å…¥å­—æ¯ã€æ•°å­—ã€ç¬¦å·ã€ç©ºæ ¼ç­‰ï¼Œå›è½¦ä¸Šå±åè‡ªåŠ¨å¤ä½åˆ°ä¸­æ–‡
# # commit_text å·²è¾“å…¥çš„å€™é€‰æ–‡å­—ä¸Šå±å¹¶åˆ‡æ¢è‡³è¥¿æ–‡è¾“å…¥æ¨¡å¼
# # commit_code å·²è¾“å…¥çš„ç¼–ç å­—ç¬¦ä¸Šå±å¹¶åˆ‡æ¢è‡³è¥¿æ–‡è¾“å…¥æ¨¡å¼
# # è®¾ä¸º noop, å±è”½è¯¥åˆ‡æ¢é”®
# #
# # å¦‚æœè¦æŠŠCaps Lock è®¾ä¸ºåªæ”¹å˜å­—æ¯çš„å¤§å°å†™è€Œä¸åšä¸­è¥¿æ–‡åˆ‡æ¢ï¼Œå¯å°† Caps_Lock å¯¹åº”çš„åˆ‡æ¢æ–¹å¼è®¾ä¸º noop
# # å¦‚æœè¦ä»¥Caps Lock åˆ‡æ¢åˆ°è¥¿æ–‡æ¨¡å¼ï¼Œé»˜è®¤è¾“å‡ºå°å†™å­—æ¯ï¼Œè¯·ç½® ascii_composer/good_old_caps_lock: false
# # å¦‚æœè¦ä»¥Caps Lock åˆ‡æ¢åˆ°è¥¿æ–‡æ¨¡å¼ï¼Œé»˜è®¤è¾“å‡ºå¤§å†™å­—æ¯ï¼Œè¯·ç½® ascii_composer/good_old_caps_lock: true
# 
#   ascii_composer/good_old_caps_lock: true
#   ascii_composer/switch_key:
#     Caps_Lock: noop
#     Shift_L: commit_code
#     Shift_R: noop
#     Control_L: noop
#     Control_R: noop
# 
#   key_binder/bindings:
#     - when: paging
#       accept: bracketleft
#       send: Page_Up
#     - when: has_menu
#       accept: bracketright
#       send: Page_Down
# ------------------------------------------------------------------------------------------
# æ‹·è´æ–‡ä»¶:
#   build/*
#   flypy.schema.yaml
#   flypy_fullå…¨ç å­—.txt
#   flypy_sys.txt
#   flypy_top.txt
#   flypy_user.txt
#   lua/calculator_translator.lua
# æ–°å¢æ–‡ä»¶:
#   flypy.custom.yaml
# ä¿®æ”¹æ–‡ä»¶:
#   default.custom.yaml # æ–¹æ¡ˆåˆ—è¡¨å¢åŠ å°é¹¤éŸ³å½¢
# ------------------------------------------------------------------------------------------
