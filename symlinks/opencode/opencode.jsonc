// https://opencode.ai/docs/zen/#pricing
// curl https://opencode.ai/zen/v1/models | jq '.data | sort_by(.created)'
{
  "$schema": "https://opencode.ai/config.json",
  "plugin": [
    "oh-my-opencode@2.12.4", // https://github.com/code-yeongyu/oh-my-opencode
    "opencode-antigravity-auth@1.2.7" // https://github.com/NoeFabris/opencode-antigravity-auth
  ],
  // "theme": "system", // https://github.com/sst/opencode/issues/445#issuecomment-3508873123
  "theme": "github",
  "share": "manual",
  // "autoupdate": "notify",
  // "model": "opencode/glm-4.7-free", // Sisyphus
  // "model": "google/antigravity-claude-opus-4-5-thinking-medium",
  "model": "anthropic/claude-opus-4-5",
  "small_model": "opencode/grok-code",
  "agent": {
    "plan": {
      // "model": "opencode/glm-4.7-free" // Planner-Sisyphus
      // "model": "google/antigravity-claude-opus-4-5-thinking-medium"
      "model": "anthropic/claude-opus-4-5"
    }
  },
  "permission": {
    "bash": {
      "git add *": "ask",
      "git commit *": "ask",
      "git push *": "ask",
      "git pull *": "ask",
      "git merge *": "ask",
      "git rebase *": "ask",
      "git reset *": "ask",
      "git checkout *": "ask",
      "git switch *": "ask",
      "git stash *": "ask",
      "git cherry-pick *": "ask",
      "git revert *": "ask",
      "git restore *": "ask"
    }
  },
  "provider": {
    "anthropic": {
      "options": {
        "baseURL": "{env:CLAUDE_RELAY_SERVICE_URL}/api/v1",
        "apiKey": "{env:CLAUDE_RELAY_SERVICE_API_KEY}"
      }
    },
    "google": {
      "models": {
        "antigravity-gemini-3-pro-low": {
          "name": "Gemini 3 Pro Low (Antigravity)",
          "limit": { "context": 1048576, "output": 65535 },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          }
        },
        "antigravity-gemini-3-pro-high": {
          "name": "Gemini 3 Pro High (Antigravity)",
          "limit": { "context": 1048576, "output": 65535 },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          }
        },
        "antigravity-gemini-3-flash": {
          "name": "Gemini 3 Flash (Antigravity)",
          "limit": { "context": 1048576, "output": 65536 },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          }
        },
        "antigravity-claude-sonnet-4-5": {
          "name": "Claude Sonnet 4.5 (Antigravity)",
          "limit": { "context": 200000, "output": 64000 },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          }
        },
        "antigravity-claude-sonnet-4-5-thinking-low": {
          "name": "Claude Sonnet 4.5 Think Low (Antigravity)",
          "limit": { "context": 200000, "output": 64000 },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          }
        },
        "antigravity-claude-sonnet-4-5-thinking-medium": {
          "name": "Claude Sonnet 4.5 Think Medium (Antigravity)",
          "limit": { "context": 200000, "output": 64000 },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          }
        },
        "antigravity-claude-sonnet-4-5-thinking-high": {
          "name": "Claude Sonnet 4.5 Think High (Antigravity)",
          "limit": { "context": 200000, "output": 64000 },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          }
        },
        "antigravity-claude-opus-4-5-thinking-low": {
          "name": "Claude Opus 4.5 Think Low (Antigravity)",
          "limit": { "context": 200000, "output": 64000 },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          }
        },
        "antigravity-claude-opus-4-5-thinking-medium": {
          "name": "Claude Opus 4.5 Think Medium (Antigravity)",
          "limit": { "context": 200000, "output": 64000 },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          }
        },
        "antigravity-claude-opus-4-5-thinking-high": {
          "name": "Claude Opus 4.5 Think High (Antigravity)",
          "limit": { "context": 200000, "output": 64000 },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          }
        },
        "gemini-3-flash-preview": {
          "name": "Gemini 3 Flash Preview (CLI)",
          "limit": { "context": 1048576, "output": 65536 },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          }
        },
        "gemini-3-pro-preview": {
          "name": "Gemini 3 Pro Preview (CLI)",
          "limit": { "context": 1048576, "output": 65535 },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          }
        }
      }
    },
    // https://platform.minimax.io/docs/guides/text-ai-coding-tools#use-minimax-m2-in-opencode
    "minimax": {
      "npm": "@ai-sdk/anthropic",
      "options": {
        "baseURL": "https://api.minimax.io/anthropic/v1",
        "apiKey": "{env:MINIMAX_API_KEY}"
      },
      "models": {
        "MiniMax-M2": {
          "name": "MiniMax-M2"
        }
      }
    },
    // curl https://openrouter.ai/api/v1/models | jq '.data | sort_by(.created)' | less
    "openrouter": {
      "options": {
        "apiKey": "{env:OPENCODE_OPENROUTER_API_KEY}"
      },
      "models": {
        // "moonshotai/kimi-k2-0905": {
        //   "options": {
        //     "provider": {
        //       "order": ["moonshotai", "baseten", "together", "groq"],
        //       "allow_fallbacks": false
        //     }
        //   }
        // }
      }
    }
  },
  "mcp": {
    // "context7": {
    //   "type": "local",
    //   "command": ["npx", "-y", "@upstash/context7-mcp"],
    //   "enabled": false
    // },
    // "exa": {
    //   "type": "remote",
    //   // "url": "https://mcp.exa.ai/mcp?tools=get_code_context_exa",
    //   "url": "https://mcp.exa.ai/mcp?tools=web_search_exa",
    //   "enabled": false
    // }
    // fix websearch_exa timed out for oh-my-opencode
    // https://github.com/code-yeongyu/oh-my-opencode/blob/6b5a8263f9e7d1f769dd8e7087684666e4c278a9/src/mcp/websearch-exa.ts
    "websearch_exa": {
      "type": "local",
      "command": ["npx", "-y", "exa-mcp-server", "tools=web_search_exa"],
      "enabled": true,
      "timeout": 10000
    }
  },
  // "tools": {
  //   "exa_web_search_exa": false
  // },
  "keybinds": {
    "leader": "ctrl+x",
    "messages_half_page_up": "ctrl+u",
    "messages_half_page_down": "ctrl+d",
    "editor_open": "ctrl+g"
  }
}
