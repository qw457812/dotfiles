// https://opencode.ai/docs/zen/#pricing
// curl https://opencode.ai/zen/v1/models | jq '.data | sort_by(.created)'
{
  "$schema": "https://opencode.ai/config.json",
  "plugin": [
    "oh-my-opencode@3.0.0-beta.12", // https://github.com/code-yeongyu/oh-my-opencode
    "opencode-antigravity-auth@1.3.0" // https://github.com/NoeFabris/opencode-antigravity-auth
  ],
  // "theme": "lucent-orng", // system (https://github.com/sst/opencode/issues/445#issuecomment-3508873123), github
  "theme": "lucent-github", // based on [lucent-orng](https://github.com/anomalyco/opencode/blob/e6e7eaf6e0ce50a0d5ff31f330972f749bec819c/packages/opencode/src/cli/cmd/tui/context/theme/lucent-orng.json), but with [github](https://github.com/anomalyco/opencode/blob/eaa0826e7fa3aa5a52d670dad0dce92108843700/packages/opencode/src/cli/cmd/tui/context/theme/github.json) diff colors
  "share": "manual",
  // "autoupdate": "notify",
  // "model": "opencode/glm-4.7-free", // Sisyphus
  "model": "zai-coding-plan/glm-4.7",
  // "model": "anthropic/claude-sonnet-4-5-20250929",
  // "model": "anthropic/claude-opus-4-5-20251101",
  // "model": "google/antigravity-claude-sonnet-4-5-thinking",
  // "model": "google/antigravity-claude-opus-4-5-thinking",
  // "model": "github-copilot/claude-sonnet-4.5",
  // "model": "github-copilot/claude-opus-4.5",
  "small_model": "opencode/grok-code",
  "agent": {
    "plan": {
      // "model": "opencode/glm-4.7-free" // Prometheus (Planner)
      "model": "zai-coding-plan/glm-4.7"
      // "model": "anthropic/claude-sonnet-4-5-20250929"
      // "model": "anthropic/claude-opus-4-5-20251101"
      // "model": "google/antigravity-claude-sonnet-4-5-thinking"
      // "model": "google/antigravity-claude-opus-4-5-thinking"
      // "model": "github-copilot/claude-sonnet-4.5"
      // "model": "github-copilot/claude-opus-4.5"
    }
  },
  "provider": {
    // check `opencode models anthropic`
    "anthropic": {
      "options": {
        "baseURL": "{env:CLAUDE_RELAY_SERVICE_URL}/api/v1",
        "apiKey": "{env:CLAUDE_RELAY_SERVICE_API_KEY}"
      }
    },
    "google": {
      "models": {
        "antigravity-gemini-3-pro": {
          "name": "Gemini 3 Pro (Antigravity)",
          "limit": { "context": 1048576, "output": 65535 },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          },
          "variants": {
            "low": { "thinkingLevel": "low" },
            "high": { "thinkingLevel": "high" }
          }
        },
        "antigravity-gemini-3-flash": {
          "name": "Gemini 3 Flash (Antigravity)",
          "limit": { "context": 1048576, "output": 65536 },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          },
          "variants": {
            "minimal": { "thinkingLevel": "minimal" },
            "low": { "thinkingLevel": "low" },
            "medium": { "thinkingLevel": "medium" },
            "high": { "thinkingLevel": "high" }
          }
        },
        "antigravity-claude-sonnet-4-5": {
          "name": "Claude Sonnet 4.5 (Antigravity)",
          "limit": { "context": 200000, "output": 64000 },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          }
        },
        "antigravity-claude-sonnet-4-5-thinking": {
          "name": "Claude Sonnet 4.5 Thinking (Antigravity)",
          "limit": { "context": 200000, "output": 64000 },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          },
          "variants": {
            "low": { "thinkingConfig": { "thinkingBudget": 8192 } },
            "max": { "thinkingConfig": { "thinkingBudget": 32768 } }
          }
        },
        "antigravity-claude-opus-4-5-thinking": {
          "name": "Claude Opus 4.5 Thinking (Antigravity)",
          "limit": { "context": 200000, "output": 64000 },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          },
          "variants": {
            "low": { "thinkingConfig": { "thinkingBudget": 8192 } },
            "max": { "thinkingConfig": { "thinkingBudget": 32768 } }
          }
        },
        "gemini-2.5-flash": {
          "name": "Gemini 2.5 Flash (Gemini CLI)",
          "limit": { "context": 1048576, "output": 65536 },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          }
        },
        "gemini-2.5-pro": {
          "name": "Gemini 2.5 Pro (Gemini CLI)",
          "limit": { "context": 1048576, "output": 65536 },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          }
        },
        "gemini-3-flash-preview": {
          "name": "Gemini 3 Flash Preview (Gemini CLI)",
          "limit": { "context": 1048576, "output": 65536 },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          }
        },
        "gemini-3-pro-preview": {
          "name": "Gemini 3 Pro Preview (Gemini CLI)",
          "limit": { "context": 1048576, "output": 65535 },
          "modalities": {
            "input": ["text", "image", "pdf"],
            "output": ["text"]
          }
        }
      }
    },
    // curl https://openrouter.ai/api/v1/models | jq '.data | sort_by(.created)' | less
    "openrouter": {
      "options": {
        "apiKey": "{env:OPENCODE_OPENROUTER_API_KEY}"
      },
      "models": {
        // "moonshotai/kimi-k2-0905": {
        //   "options": {
        //     "provider": {
        //       "order": ["moonshotai", "baseten", "together", "groq"],
        //       "allow_fallbacks": false
        //     }
        //   }
        // }
      }
    }
  },
  "disabled_providers": [
    "alibaba",
    "alibaba-cn",
    "deepseek",
    "groq",
    "kimi-for-coding",
    "minimax",
    "minimax-cn",
    "minimax-cn-coding-plan",
    "minimax-coding-plan",
    "modelscope",
    "moonshotai",
    "moonshotai-cn",
    "openrouter",
    "togetherai",
    "zai",
    // "zai-coding-plan",
    "zhipuai",
    "zhipuai-coding-plan"
  ],
  "mcp": {
    // "context7": {
    //   "type": "local",
    //   "command": ["npx", "-y", "@upstash/context7-mcp"],
    //   "enabled": false
    // },
    // https://github.com/code-yeongyu/oh-my-opencode/issues/493
    // "exa": {
    //   "type": "local",
    //   "command": ["npx", "-y", "exa-mcp-server", "tools=web_search_exa"],
    //   "enabled": true,
    //   "timeout": 60000
    // }
  },
  "permission": {
    "websearch": "deny", // provided by exa, not sure why this tool exists (for opencode/glm-4.7-free), we already have websearch_web_search_exa (from `websearch` MCP which was added by oh-my-opencode)
    "codesearch": "deny", // provided by exa, not sure why this tool exists (for opencode/glm-4.7-free)
    "bash": {
      "git add *": "ask",
      "git commit *": "ask",
      "git push *": "ask",
      "git pull *": "ask",
      "git merge *": "ask",
      "git rebase *": "ask",
      "git reset *": "ask",
      "git checkout *": "ask",
      "git switch *": "ask",
      "git stash *": "ask",
      "git cherry-pick *": "ask",
      "git revert *": "ask",
      "git restore *": "ask"
    }
  },
  "keybinds": {
    "leader": "ctrl+x",
    "messages_half_page_up": "ctrl+u",
    "messages_half_page_down": "ctrl+d",
    "app_exit": "ctrl+c,<leader>q", // ctrl+d (messages_half_page_down) in subagent session exits app
    "input_delete_to_line_start": "ctrl+u,alt+u",
    "messages_next": "alt+j",
    "messages_previous": "alt+k",
    "editor_open": "ctrl+g", // align with claude code since we can't change claude code keybinds
    "agent_cycle": "none", // avoid accidental agent cycle
    "session_child_cycle": "<leader>right,tab"
  }
}
