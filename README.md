<p align="center">
  <a href="https://git.io/typing-svg"><img src="https://readme-typing-svg.demolab.com?font=Fira+Code&duration=3500&pause=2000&color=21C8B8&center=true&vCenter=true&width=550&height=50&lines=Personal+dotfiles+on+macOS+managed+by+chezmoi" alt="dotfiles-typing-svg" /></a>
</p>

## [Goku](https://github.com/yqrashawn/GokuRakuJoudo)

Hack keyboard use [Karabiner](https://github.com/pqrs-org/Karabiner-Elements), and maintain **_[my karabiner config](dot_config/karabiner.edn)_** with Goku.

> Head over to [nikitavoloboev](https://github.com/nikitavoloboev)'s **_[personal wiki](https://wiki.nikiv.dev/macOS/apps/karabiner/)_** to learn more about karabiner and goku.

<details>
<summary><strong>Here are some settings</strong> (outdated, click to see)</summary>

| Type              | From                         | To                                                                | Comment                                                                                                                                                                    | Favorite | Todo                         |
| ----------------- | ---------------------------- | ----------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------- | ---------------------------- |
| layer             | space+any                    | shift+any                                                         | use the most strongest finger                                                                                                                                              | yes!     |                              |
| layer             | v/m+any                      | control+any                                                       | use the second strongest finger                                                                                                                                            | yes!     |                              |
| layer             | s+h/j/k/l                    | arrow keys                                                        |                                                                                                                                                                            | yes!     |                              |
| layer             | s+d/f                        | copy/paste                                                        |                                                                                                                                                                            |          |                              |
| layer             | d+j/k                        | cmd+shift+]/cmd+shift+[ in chrome; ctrl+tab/ctrl+shift+tab in wps | switch tabs in most apps                                                                                                                                                   | yes      |                              |
| layer             | d+m                          | maximiz window                                                    | remap [Rectangle](https://github.com/rxhanson/Rectangle)                                                                                                                   |          |                              |
| layer             | d+f/s                        | clicking(like vimium-f)/scrolling                                 | remap [Homerow](https://www.homerow.app/)                                                                                                                                  |          |                              |
| layer             | f+j/k                        | delete/return                                                     | so easy to delete                                                                                                                                                          | yes!     |                              |
| layer             | w+any                        | launch application                                                | w+j -> open chrome when not in chrome; w+j -> cmd+` when already in chrome                                                                                                 | yes!     |                              |
| layer             | o+any                        | open website                                                      | o+f -> create new tab of chrome                                                                                                                                            |          |                              |
| layer             | a+h/j/k/l/v/b/n              | mouse navigation/click                                            | during navigation: hold f to slow down, hold s to scroll                                                                                                                   |          | avoid pinky problem          |
| layer             | a+i/o                        | zoom in/out                                                       |                                                                                                                                                                            |          |                              |
| layer             | t+any                        | toggle setting/information                                        | t+d -> toggle dark mode                                                                                                                                                    |          |                              |
| layer             | g+h/j/k/l                    | home/page_down/page_up/end                                        |                                                                                                                                                                            |          |                              |
| layer             | x+h/j/k/l                    | shift+arrow                                                       | vi visual mode                                                                                                                                                             |          |                              |
| layer             | r+h/j/k/l                    | scrolling                                                         |                                                                                                                                                                            |          |                              |
| simultaneous keys | j+k                          | esc                                                               |                                                                                                                                                                            | yes      |                              |
| simultaneous keys | m+k                          | translate                                                         | remap [Easydict](https://github.com/tisfeng/Easydict)                                                                                                                      |          | left hand mode with mouse    |
| modifier alone    | left cmd                     | cmd+tab                                                           | so easy to switch previous app                                                                                                                                             | yes!     |                              |
| modifier alone    | right cmd                    | mouse center click to active app, then maximize window            | use it a lot when vimium/ideavim lose focus in chrome/IntelliJ                                                                                                             | yes      |                              |
| modifier alone    | left option                  | tmux prefix                                                       |                                                                                                                                                                            | yes      |                              |
| modifier alone    | right option                 | translate in chrome/IntelliJ/Others                               | remap [immersive-translate](https://immersivetranslate.com/)/[Translation](https://github.com/YiiGuxing/TranslationPlugin)/[Easydict](https://github.com/tisfeng/Easydict) | yes      |                              |
| modifier alone    | left shift                   | switch english/chinese input                                      | by Rime (nothing to do with goku)                                                                                                                                          |          | avoid pinky problem          |
| modifier alone    | right shift                  | caps_lock                                                         | turn on caps_lock to enter vi mode (in process)                                                                                                                            |          | more vi binding              |
| modifier alone    | fn                           | copy                                                              |                                                                                                                                                                            |          |                              |
| modifier alone    | left control                 | paste                                                             |                                                                                                                                                                            |          |                              |
| other             | caps_lock                    | esc(pressed alone)/control(as modifier)                           | use `j+k` and `v/m+any` instead                                                                                                                                            |          |                              |
| mouse             | right click                  | copy word(double right click)/selected(hold right click)          |                                                                                                                                                                            |          |                              |
| mouse             | option/command + left click  | copy word/selected                                                |                                                                                                                                                                            |          |                              |
| mouse             | middle click                 | paste(hold middle click to overwrite)                             |                                                                                                                                                                            |          |                              |
| trackpad          | s/d + finger on trackpad     | copy word/selected                                                |                                                                                                                                                                            |          | easy to accidentally trigger |
| trackpad          | f + finger on trackpad       | paste(hold f to overwrite)                                        |                                                                                                                                                                            |          | easy to accidentally trigger |
| trackpad          | h/j/k/l + finger on trackpad | arrow keys(one finger), home/page_down/page_up/end(two fingers)   |                                                                                                                                                                            |          | easy to accidentally trigger |

</details>

Using [Glove80](https://www.moergo.com/) keyboard.

Using [WhatPulse](https://whatpulse.org/) to track keyboard input.

## [Neovim](https://neovim.io/)

[My neovim config](dot_config/nvim) powered by [LazyVim](https://github.com/LazyVim/LazyVim).

TODO:

1. [x] Try [NvChad](https://github.com/NvChad/NvChad), [LazyVim](https://github.com/LazyVim/LazyVim), [Kickstart](https://github.com/nvim-lua/kickstart.nvim), [AstroNvim](https://github.com/AstroNvim/AstroNvim) by [Lazyman](https://github.com/doctorfree/nvim-lazyman).
2. [ ] Find out a set of keybindings that can be used everywhere, [equivalent mapping configurations for other IDEs VIM integrations](https://github.com/magidc/nvim-config#equivalent-mapping-configurations-for-other-ides-vim-integrations): [IdeaVim](#ideavim), [VSCodeVim](#vscodevim), [Doom Emacs](#doom-emacs), maybe even [zsh-vi-mode](#oh-my-zsh), [tmux-copy-mode](#oh-my-tmux), [less](dot_config/lesskey).
   - [ ] Leader key
   - [ ] File manager specifically
     - [ ] Terminal: [Vifm](#vifm) or [Yazi](https://github.com/sxyazi/yazi)
     - [ ] Neovim: [neo-tree.nvim](https://github.com/nvim-neo-tree/neo-tree.nvim) or [telescope-file-browser.nvim](https://github.com/nvim-telescope/telescope-file-browser.nvim)
     - [ ] [VSCode](#vscodevim): Explorer view
     - [ ] [IdeaVim](#ideavim): [NERDTree](https://github.com/JetBrains/ideavim/wiki/NERDTree-support)

Tips:

1. Remap `esc`.

   - For all keyboard (mainly for Apple Internal Keyboard): remap `jk` to `esc` by karabiner.
   - For Glove80 specifically: remap one of the **thumb keys** to `esc` by karabiner.
   - In vim(s): `inoremap jj <esc>` or `inoremap jk <esc>`.

2. Turn up `Key repeat rate` and turn down `Delay until repeat` in `System Settings` -> `Keyboard`.

   See [.macos](backup/.macos).

3. When leaving insert mode, auto switch to English input source (if necessary).

   - By [Rime](https://rime.im/)'s [vim_mode](https://github.com/rime/home/blob/11bbdb85d2acbb6789433064711b03b4952aa7f5/blog/source/release/squirrel/index.md?plain=1#L256) app option, see [squirrel.custom.yaml](private_Library/Rime/squirrel.custom.yaml).

4. Remap `shift` (optional).

   - For all keyboard: remap `space` to `shift` by karabiner.

     > Don't worry, the original tap and hold (repeat) functions of `space` are retained.

## [IdeaVim](https://github.com/JetBrains/ideavim)

[.ideavimrc](dot_ideavimrc)

## [VSCodeVim](https://github.com/VSCodeVim/Vim)

[settings.json](symlinks/vscode/settings.json)

[keybindings.json](symlinks/vscode/keybindings.json)

## [Doom Emacs](https://github.com/doomemacs/doomemacs)

[DOOMDIR](dot_config/doom)

Using [Emacs Plus](https://github.com/d12frosted/homebrew-emacs-plus).

## [Oh My Zsh](https://ohmyz.sh/)

[.zshrc](dot_zshrc)

## [Oh my tmux!](https://github.com/gpakosz/.tmux)

[.tmux.conf.local](dot_tmux.conf.local)

## [Vifm](https://github.com/vifm/vifm)

[vifmrc](dot_config/private_vifm/vifmrc)

## [rime-ice](https://github.com/iDvel/rime-ice)

[My rime config](private_Library/Rime) for Chinese input based on rime-ice and powered by [TigerCode](https://tiger-code.com/).

Using [KeyboardHolder](https://keyboardholder.leavesc.com/zh-cn/) to keep [Squirrel](https://github.com/rime/squirrel) as the only input source on macOS, instead of ABC.

And using [ShowyEdge](https://github.com/pqrs-org/ShowyEdge) to notice when input source automatically changes to ABC.

Using [emacs-rime](https://github.com/DogLooksGood/emacs-rime) in Doom Emacs.

## [SketchyBar](https://github.com/FelixKratz/SketchyBar)

[sketchybarrc](dot_config/sketchybar/executable_sketchybarrc)

## [yabai](https://github.com/koekeishiya/yabai)

[.yabairc](executable_dot_yabairc)

## [zathura](https://github.com/zegervdv/homebrew-zathura)

[zathurarc](dot_config/zathura/zathurarc)

Using [zathura-pdf-poppler](https://github.com/zegervdv/homebrew-zathura#install-and-link-one-of-the-two-plugins) plugin.

Fix [zathura auto focus on open](https://github.com/zegervdv/homebrew-zathura/issues/62#issuecomment-1413968157) problem by using yabai.
